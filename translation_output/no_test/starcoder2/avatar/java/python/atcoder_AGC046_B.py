
```
import sys

A, B, C, D = map(int, sys.stdin.readline().split())
MOD = 998244353
dp = [[0] * C for _ in range(D)]
sum = [[0] * C for _ in range(D)]

sum[B - 1][A - 1] = 1

for i in range(A, C):
    sum[B - 1][i] = (sum[B - 1][i - 1] * B) % MOD

for i in range(B, D):
    for j in range(A, C):
        dp[i][j] = dp[i - 1][j] * j
        dp[i][j] += sum[i - 1][j - 1] * j
        dp[i][j] %= MOD
        sum[i][j] = (sum[i][j - 1] * (i + 1) + dp[i][j]) % MOD

ans = 0
powC = 1

for i in range(D - 1, B - 1, -1):
    powI = 1

    for j in range(C - 1, A - 1, -1):
        ans = (ans + dp[i][j] * ((powC * powI) % MOD)) % MOD
        powI = (powI * (i + 1)) % MOD

    powC = (powC * C) % MOD

ans = (ans + (powC * sum[B - 1][C - 1]) % MOD) % MOD

print(ans)
```

## 解説

### 解法1

まず、$A$ から $C$ までの整数を $B$ 個選ぶ場合の数を $dp[i][j]$ とする。

$dp[i][j]$ は、$i$ 個の整数を選んだときに、$j$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数である。

$dp[i][j]$ は、$i$ 個の整数を選ぶ場合の数を $i!$ とすると、

$$
dp[i][j] = \frac{i!}{(i - j)!}
$$

となる。

$dp[i][j]$ を計算するには、$dp[i - 1][j]$ と $dp[i - 1][j - 1]$ を用いる。

$dp[i - 1][j]$ は、$i - 1$ 個の整数を選んだときに、$j$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数である。

$dp[i - 1][j - 1]$ は、$i - 1$ 個の整数を選んだときに、$j - 1$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数である。

$i$ 個の整数を選ぶ場合の数は、$i - 1$ 個の整数を選ぶ場合の数に $i$ を掛けたものに等しい。

$i$ 個の整数を選んだときに、$j$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数は、$i - 1$ 個の整数を選んだときに、$j$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数に $j$ を掛けたものに等しい。

$i$ 個の整数を選んだときに、$j - 1$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数は、$i - 1$ 個の整数を選んだときに、$j - 1$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数に $j$ を掛けたものに等しい。

よって、

$$
dp[i][j] = dp[i - 1][j] \times j + dp[i - 1][j - 1] \times j
$$

となる。

$dp[i][j]$ を計算するには、$dp[i - 1][j]$ と $dp[i - 1][j - 1]$ を用いる。

$dp[i - 1][j]$ は、$i - 1$ 個の整数を選んだときに、$j$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数である。

$dp[i - 1][j - 1]$ は、$i - 1$ 個の整数を選んだときに、$j - 1$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数である。

$i$ 個の整数を選ぶ場合の数は、$i - 1$ 個の整数を選ぶ場合の数に $i$ を掛けたものに等しい。

$i$ 個の整数を選んだときに、$j$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数は、$i - 1$ 個の整数を選んだときに、$j$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数に $j$ を掛けたものに等しい。

$i$ 個の整数を選んだときに、$j - 1$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数は、$i - 1$ 個の整数を選んだときに、$j - 1$ 個の整数が $A$ 以上 $C$ 以下の整数であるような場合の数に $j$ を掛けたものに等しい。

よって、

$$
dp[i][j] = dp[i - 1][j] \times j + dp[i - 1][j - 1] \times j
$$

となる。

$dp[i][j]$ を計算するには、$dp[i - 1][j]$ と $dp[i - 1][j - 1]$ を用いる。

$dp[i - 
